# 호이스팅이란?

호이스팅은 변수나 함수의 호출 코드가 선언코드보다 아래쪽에 있음에도 불구하고 에러가 발생하지 않고, 마치 선언코드가 호출코드보다 더 위에 선언된것과 같이 동작하는 특성을 호이스팅이라고 합니다.

분명 호출코드가 선언코드보다 아래쪽에 있는데 에러가 발생하지않고 동작하는 이유는 자바스크립트의 엔진의 진행순서에 의해서 입니다. 자바스크립트 엔진은 함수선언문을 해석하고 그 다음 변수 초기화를 하고 그다음에 코드를 실행하게 됩니다. 코드를 실행을 했을 때는 이미 함수 선언문과 변수가 생성되어있는 상태이기대문에 어디서든 함수나 변수를 호출 할수있습니다. 

하지만 호이스팅이 일어나는 경우는 오직 var변수에서만 일어나고 ES6에서 생긴 let과 const 변수에서는 할수없습니다.  (할수는있는데 안되는것처럼보인다)

예를 들어 첫번재로 console.log(name) 이라고 콘솔을 찍고 두번째 라인에서 var name = “류현”이라고 하고 세번째에 console.log(name) 이라고 한다면. 여기에서는 에러를 내뱉지 않고 동작합니다. let과 const일 경우에는 에러를 발생시킬겁니다. 첫번째 콘솔로그는 undefined라는 값을 출력하고 두번째 콘솔은 류현이라고 잘나올겁니다. 첫째라인에 name이라는 변수를 불러와 호출은 가능하지만 undefined 값이 나오는데 이는 식별자를 해결 할수있도록 변수를 초기화 해논 상태이기 때문입니다. 코드 실행 시점에서 해당 변수를 어디에서 호출하든 식별자 해결은 가능하기 때문에 에러없이 호출이 가능합니다. 

함수 호이스팅에서는 함수 선언문 (function abc(){}) 같은 경우에는 함수가 정의 되지않았는데도 함수가 정의 된 곳에 상관없이 동작이 가능한데 함수 선언문은 정의한 함수의 유효범위가 코드의 맨 처음부터 시작하기 때문입니다. 이것을 바로 함수 호이스팅이라고 부릅니다.  함수 호이스팅은 함수를 사용하기전에 반드시 선언해야한다는 규칙을 무시하므로 코드의 구조를 엉성하게 된다는 단점이있습니다. 그래서 자바스크립트 핵심가이드라는 책을 집필한 더글라스 크락포드는  함수 선언문 보다는 함수 표현식만을 사용할것을 권하고 있습니다.

함수 호이스팅이 발생하는 원인은 자바스크립트의 변수 생성과 초기화의 작업이 분리돼서 진행되기 때문이라고 합니다.